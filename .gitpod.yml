# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

image: gitpod/workspace-full-vnc:2023-10-10-09-48-27
tasks:
  - init: |
      sudo apt-get update && \
      pyenv install -f 3.11 && \
      pyenv global 3.11 && \
      
      pip install -r requirements.txt && \
      playwright install --with-deps chromium && \

      export REDIS_HOST="redis" && \

      docker run \
      --name redis \
      --restart always \
      -e TZ=Asia/Shanghai \
      -d redis:alpine3.18 \
      /bin/sh -c "echo 'requirepass $$REDIS_PASSW' >> /usr/local/etc/redis/redis.conf && redis-server /usr/local/etc/redis/redis.conf"
      





